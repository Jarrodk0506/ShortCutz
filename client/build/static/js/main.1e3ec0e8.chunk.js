(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){},41:function(e,t,a){},46:function(e,t,a){e.exports=a(79)},51:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(22),o=(a(51),a(3)),l=a(4),i=a(6),c=a(5),m=a(7),u=a(2),p=a(18),d=a(24),h=a.n(d),b=a(15),g=a.n(b),f=function(e){e?g.a.defaults.headers.common.Authorization=e:delete g.a.defaults.headers.common.Authorization},E=function(e){return{type:"SET_CURRENT_USER",payload:e}},v=function(e){return{type:"GET_ERRORS",payload:e.response.data}},N=function(){return function(e){localStorage.removeItem("jwtToken"),f(!1),e(E({}))}},w=a(13),y=a(16),O=a(43),k=a(29),j=a(75),x={isAuthenticated:!1,user:{},loading:!1},C={},S=Object(y.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(k.a)({},e,{isAuthenticated:!j(t.payload),user:t.payload});case"USER_LOADING":return Object(k.a)({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,R=Object(y.e)(S,{},D(Object(y.a)(O.a))),L=(a(76),a(27),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={displayLogin:!1,displayRegister:!1},a.showLoginDiv=function(e){e.preventDefault(),console.log("clicked"),a.setState({displayLogin:!0,displayRegister:!1})},a.hideLoginDiv=function(e){e.preventDefault(),console.log("clicked"),a.setState({displayLogin:!1,displayRegister:!1})},a.showRegDiv=function(e){e.preventDefault(),a.setState({displayRegister:!0,displayLogin:!1})},a.hideRegDiv=function(e){e.preventDefault(),console.log("clicked"),a.setState({displayRegister:!1,displayLogin:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-fixed navbar"},r.a.createElement("nav",{className:"z-depth-0"},r.a.createElement("div",{className:"nav-wrapper white"},r.a.createElement(u.b,{to:"/",onClick:this.hideRegDiv,className:"col s5 brand-logo center black-text",style:{fontFamily:"'Raleway', sans-serif"}},"ShortCutz 8<"),r.a.createElement("div",{onClick:this.showRegDiv,className:"btn btn-large right btn-flat waves-effect regbtn"},"Register"),r.a.createElement("div",{onClick:this.showLoginDiv,className:"btn btn-large right btn-flat waves-effect loginbtn"},"Login")),r.a.createElement("div",{className:this.state.displayLogin?"loginDD":"hidediv loginDD"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("p",{onClick:this.hideLoginDiv,className:this.state.displayLogin?"xbtn":"hidediv xbtn"},"\u2716"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{onClick:this.hideLoginDiv,className:"col s6 userlogin"},r.a.createElement(u.b,{to:{pathname:"/login",state:{barber:!1}}},r.a.createElement("i",{className:"fas fa-user",style:{fontSize:"24px"}})," Login as User    \u2192"),r.a.createElement("p",{className:"ulp"},"Browse a list of barber near you for a quick haircut or plan a future appointment.")," "),r.a.createElement("div",{onClick:this.hideLoginDiv,className:"col s6 barberlogin"},r.a.createElement(u.b,{to:{pathname:"/loginb",state:{barber:!0}}}," \u2702 Login as Barber     \u2192"),r.a.createElement("p",{className:"blp"},"Manage your schedule, portfolio and preferences on your personnal profile page.")," "))),r.a.createElement("div",{className:this.state.displayRegister?"registerDD":"hidediv registerDD"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("p",{onClick:this.hideRegDiv,className:this.state.displayRegister?"xbtn":"hidediv xbtn"},"\u2716"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{onClick:this.hideRegDiv,className:"col s6 userreg"},r.a.createElement(u.b,{to:{pathname:"/register",state:{barber:!1}}}," ",r.a.createElement("i",{className:"fas fa-user",style:{fontSize:"24px"}})," Register as User    \u2192"),r.a.createElement("p",{className:"urp"},"Create an account to browse from our collection of barbers.")," "),r.a.createElement("div",{onClick:this.hideRegDiv,className:"col s6 barberreg"},r.a.createElement(u.b,{to:{pathname:"/registerb",state:{barber:!0}}}," \u2702 Register as Barber     \u2192"),r.a.createElement("p",{className:"brp"},"Sign up and start booking appointments today.")," ")))))}}]),t}(n.Component)),A=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container valign-wrapper",style:{height:"75vh"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center-align textdiv"},r.a.createElement("h4",null,"Welcome to ShortCutz"),r.a.createElement("p",{className:"flow-text grey-text text-darken-1"},"hair cut appointments the simple way"),r.a.createElement("br",null))))}}]),t}(n.Component),U=a(20),_=a(19),T=a.n(_),q=(a(41),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).onChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,barber:e.state.barber,password:e.state.password,password2:e.state.password2};console.log(a),e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",online:!1,barber:"",errors:{}},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state&&this.setState({barber:this.props.location.state.barber}),this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&e.auth.user.barber?this.props.history.push({pathname:"/dashboard",state:{barber:!0}}):e.auth.isAuthenticated&&!e.auth.user.barber&&this.props.history.push({pathname:"/dashboard",state:{barber:!1}}),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container textdiv"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement(u.b,{to:"/",className:"btn-flat waves-effect"},r.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,this.state.barber?"Barber":"User"," ",r.a.createElement("b",null,"Register")),r.a.createElement("p",{className:"grey-text text-darken-1"},"Already have an account? ",r.a.createElement(u.b,{to:"/login",style:{color:"#6E3A2E"}},"Login"))),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.name,error:e.name,name:"name",type:"text",className:T()("",{invalid:e.name})}),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("span",{className:"red-text"},e.name)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,name:"email",type:"email",className:T()("",{invalid:e.email})}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"red-text"},e.email)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,name:"password",type:"password",className:T()("",{invalid:e.password})}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"red-text"},e.password)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,name:"password2",type:"password",className:T()("",{invalid:e.password2})}),r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("span",{className:"red-text"},e.password2)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{className:"btn btn-large waves-effect waves-light hoverable",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",marginBottom:"1rem",backgroundColor:"#6E3A2E"},type:"submit"},"Sign Up"))))))}}]),t}(n.Component)),B=Object(w.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){g.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a(v(e))})}}})(Object(p.g)(q)),I=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).onChange=function(t){e.setState(Object(U.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password,barber:e.state.barber};e.props.loginUser(a)},e.state={email:"",password:"",barber:"",online:!1,errors:{}},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.location.state&&this.setState({barber:this.props.location.state.barber}),this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){console.log(e.auth.user),e.auth.isAuthenticated&&e.auth.user.barber?this.props.history.push({pathname:"/dashboard",state:{barber:!0}}):e.auth.isAuthenticated&&!e.auth.user.barber&&this.props.history.push({pathname:"/dashboard",state:{barber:!1}}),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container textdiv"},r.a.createElement("div",{className:"row",style:{marginTop:"4rem"}},r.a.createElement("div",{className:"col s8 offset-s2"},r.a.createElement(u.b,{to:"/",className:"btn-flat waves-effect"},r.a.createElement("i",{className:"material-icons left"},"keyboard_backspace")," Back to home"),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("h4",null,this.state.barber?"Barber":"User"," ",r.a.createElement("b",null,"Login")),r.a.createElement("p",{className:"text-darken-1"},"Don't have an account? ",r.a.createElement(u.b,{to:"/register",style:{color:"#6E3A2E"}},"Register"))),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.email,error:e.email,name:"email",type:"email",className:T()("",{invalid:e.email||e.emailnotfound})}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"red-text"},e.email,e.emailnotfound)),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{onChange:this.onChange,value:this.state.password,error:e.password,name:"password",type:"password",className:T()("",{invalid:e.password||e.passwordincorrect})}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("span",{className:"red-text"},e.password,e.passwordincorrect)),r.a.createElement("div",{className:"col s12",style:{paddingLeft:"11.250px"}},r.a.createElement("button",{className:"btn btn-large waves-effect waves-light hoverable",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",marginBottom:"1rem",backgroundColor:"#6E3A2E"},type:"submit"},"Login"))))))}}]),t}(n.Component),G=Object(w.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){console.log(e),g.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),f(a);var n=h()(a);t(E(n))}).catch(function(e){return t(v(e))})}}})(I),P=a(45),z=Object(w.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(P.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/"})}}))}),F={getUsers:function(){return g.a.get("/api/users")}},Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={online:!1,bgColor:""},a.goOnline=function(e){a.state.online?a.setState({online:!1,bgColor:"white"}):a.setState({online:!0,bgColor:"green"})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"goDiv btn-flat waves-effect",style:{backgroundColor:this.state.bgColor},onClick:this.goOnline},this.state.online?"Go Offline":"Go Online")}}]),t}(n.Component);function W(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function Y(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}a(78);var M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={foundUsers:[],online:!1,barber:!1},a.onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.getUser=function(){F.getUsers().then(function(e){a.setState({foundUsers:e.data})})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({barber:this.props.location.state.barber}),this.getUser()}},{key:"render",value:function(){var e=this.props.auth.user;return r.a.createElement("div",null,this.state.barber?r.a.createElement("div",{className:"barberDiv"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4 profileDiv"},r.a.createElement("b",{className:"profileName"},"Welcome,")," ",e.name.split(" ")[0],r.a.createElement("br",null),r.a.createElement("img",{className:"profileImg",src:"http://tdi.auk.org/wp-content/uploads/2018/08/no-photo-man.png",alt:"profile picture"}),r.a.createElement("p",{className:"profileAbout"},r.a.createElement("b",null,"About Me:")," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r.a.createElement("p",{className:"profileAbout"},r.a.createElement("b",null,"Styles & Preferences:")," Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. "),r.a.createElement("button",{className:"btn btn-small waves-effect waves-light hoverable",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",backgroundColor:"#6E3A2E",marginBottom:"20px"},onClick:this.onLogoutClick},"Logout")),r.a.createElement("div",{className:"col s2"}),r.a.createElement("div",{className:"col s5 portfolioDiv"},r.a.createElement("b",{className:"portfolioName"},"My Portfolio:"),r.a.createElement("br",null),r.a.createElement("img",{className:"portfolioImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1Y7nYgQz1fLTf2Hk7ErczVATZsyhoqt_4NDGVLjYXjSbNqw5qXg&s",alt:"profile picture"}),r.a.createElement("img",{className:"portfolioImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRed_WZVXkDONi0Q5X8tPEFR2LURZJlqLm2ky6wlBYHWQkgTfdOgg&s",alt:"profile picture"}),r.a.createElement("img",{className:"portfolioImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2qcJkr_1VRs0Z2dQPZh3sGzrwutYS6Zftydcsorcf-prQp3DNXg&s",alt:"profile picture"}),r.a.createElement("img",{className:"portfolioImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0YeiUrsN4L4hHci4cNiYDUbjsawb6k0tL88oomOna5EtNaFi9&s",alt:"profile picture"}),r.a.createElement("img",{className:"portfolioImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ5fEALZExRyQw8ZirYhnN8lDIBbXEbmSsIu4D6vOcY7PeOqmw_KA&s",alt:"profile picture"}),r.a.createElement("img",{className:"portfolioImg",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSyj3Ox4QgoKA2QmretK9Vjz4hUP_u9qr5oSeE45cwvU54Mtk_B&s",alt:"profile picture"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement(Q,null))))):r.a.createElement("div",{className:"container valign-wrapper textdiv",style:{height:"75vh"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 center-align"},r.a.createElement("h4",null,r.a.createElement("b",null,"Welcome,")," ",e.name.split(" ")[0],r.a.createElement(W,null,this.state.foundUsers.map(function(e){return r.a.createElement(Y,{key:e._id},r.a.createElement("strong",null,e.name," "," "," ",r.a.createElement("span",{style:{fontFamily:"monospace"}}," is online ")))}))),r.a.createElement("button",{className:"btn btn-large waves-effect waves-light hoverable",style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem",backgroundColor:"#6E3A2E"},onClick:this.onLogoutClick},"Logout")))))}}]),t}(n.Component),V=Object(w.b)(function(e){return{auth:e.auth}},{logoutUser:N})(M);if(localStorage.jwtToken){var X=localStorage.jwtToken;f(X);var Z=h()(X);R.dispatch(E(Z));var J=Date.now()/1e3;Z.exp<J&&(R.dispatch(N()),window.location.href="./login")}var H=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{store:R},r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(L,null),r.a.createElement(p.b,{exact:!0,path:"/",component:A}),r.a.createElement(p.b,{exact:!0,path:"/register",component:B}),r.a.createElement(p.b,{exact:!0,path:"/registerb",component:B}),r.a.createElement(p.b,{exact:!0,path:"/login",component:G}),r.a.createElement(p.b,{exact:!0,path:"/loginb",component:G}),r.a.createElement(p.d,null,r.a.createElement(z,{exact:!0,path:"/dashboard",component:V})))))}}]),t}(n.Component);Object(s.render)(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.1e3ec0e8.chunk.js.map